
![](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/20200321004912.png)

## å‰è¨€ 

å¦‚æœä½ çš„ä¸»æ¿å’Œæˆ‘çš„æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä½ å¯ä»¥å°è¯•ç›´æ¥ä½¿ç”¨è¿™ä¸ªEFIæ–‡ä»¶è¿›è¡Œå®‰è£…

æ‰€æœ‰èµ„æºéƒ½æ¥æºäºç½‘ç»œï¼Œè¿™æ˜¯æˆ‘å®è·µåçš„ç»“æœå‰¯æœ¬
æ„Ÿè°¢äº’è”ç½‘ä¸Šé‚£äº›ä¸ºé»‘è‹¹æœåšå‡ºè´¡çŒ®çš„æ‰€æœ‰äººï¼Œå½“ç„¶ä¹Ÿè¦æ„Ÿè°¢Apple:smile:


> è¿™æ˜¯ä¸€ä¸ªæŠ˜è…¾çš„è¿‡ç¨‹ï¼Œä¹Ÿè®¸ä½ ä¼šç¢°åˆ°æˆ‘æ²¡æœ‰æ›¾ç¢°åˆ°è¿‡çš„é—®é¢˜ï¼Œæ‰€ä»¥è¯·åšå¥½å¿ƒç†å‡†å¤‡ï¼Œ`ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢`ã€‚
> ä¹Ÿå¸Œæœ›åŒæ ·é…ç½®çš„ç”¨æˆ·å¯ä»¥ä¸€èµ·ç»´æŠ¤è¿™ä¸ªRepo ğŸ™


## æˆªå›¾

![about](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/img/20191212111202.png)
![desktop](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/desktop.jpeg)
![moniter](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/moniter.png)
![graphics](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/graphics.jpg)
![usb](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/usb.png)
![disk](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/disk.png)
![bluetooth](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/bluetooth.png)
![wifi](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/wifi.png)
![](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/20191210232127.png)


## ç›®å½•ä¸€è§ˆ

```bash
â””â”€â”€ z370n-wifi-hackintosh
    â”œâ”€â”€ EFI       ---- MacOSå¼•å¯¼æ–‡ä»¶
    â”œâ”€â”€ CHANGELOG.md    ---- æ›´æ–°æ—¥å¿— 
    â”œâ”€â”€ README.md   ---- README.md 
```




## åˆ†æ”¯ä»‹ç»
> ä¸€èˆ¬çš„ ä½ åªéœ€è¦å°†EFIæ•´ä¸ªå¤åˆ¶åˆ°ä½ åˆ¶ä½œçš„å¯åŠ¨Uç›˜é‡Œçš„EFIåˆ†åŒºå³å¯,å…¶ä»–æ–‡ä»¶åªæ˜¯æˆ‘çš„å¤‡ä»½
> - 10.15.x  â€”> catalina 
> - 10.14.x  â€”> mojave 
> - 10.13.x  â€”> high-sierra
> - master  ---> æ˜¯ç›®å‰MacOSæœ€æ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ç°åœ¨æœ€æ–°ç‰ˆæœ¬æ˜¯`catalina`ï¼Œ`master`åˆ†æ”¯ä¼šå’Œ `catalina`ä¿æŒä¸€è‡´


## ç¡¬ä»¶é…ç½®

> åŒ…å«æˆ‘æ‰€çŸ¥çš„ç½‘å‹çš„é…ç½®

| ç¡¬ä»¶           | å‹å·                                            |
| -------------- | ----------------------------------------------- |
| ä¸»æ¿           | æŠ€å˜‰ z370n-wifi                                 |
| CPU            | i5-8400 / i5-8500 / i5-8600K  /  i7-8700k / i9-9900k |
| CPUæ•£çƒ­        | çŒ«å¤´é¹° NH-L9i                                    |
| æœºç®±(å¸¦ç”µæº)   | ç«‹äºº-H80                                        |
| è“ç‰™wifi(å¯é€‰) |  BCM94352Z(DW1560) / BCM94360CS2                    |
| å†…å­˜           | éª‡å®¢ç¥æ¡16GB  / èŠå¥‡å¹»å…‰æˆŸ 32G / æµ·ç›—èˆ¹ 32G              |
| SSD            | Samsung SM951 512GB / Samsung 960 EVO / 970 EVO / WD SN750 |
|æ˜¾å¡| RX570è“å®çŸ³ / Vega 56 nano |

## ä¸å…¼å®¹ç¡¬ä»¶

- ä¸‰æ˜ŸPM981

## æ›´æ–°æ—¥å¿—

[æŸ¥çœ‹æ›´æ–°æ—¥å¿—](/changelog)

## ç¡¬ä»¶å·¥ä½œæƒ…å†µ

- [x] ç½‘å¡
- [x] è“ç‰™
- [x] wifi
- [x] æ ¸æ˜¾
- [x] éŸ³é¢‘
- [x] USB
- [x] ç¡çœ 

## æœªè§£å†³é—®é¢˜


- [ ] æ ¸æ˜¾å¸¦åŠ¨åŒ4Kæ˜¾ç¤ºå™¨ç¡çœ å”¤é†’HDMIæ¥å£ä¼šé—ªçƒ


> ç›®å‰è§£å†³åŠæ³•(äºŒé€‰ä¸€)ï¼š1. é‡æ–°æ’æ‹”æ¥å£   2.å…³é—­æ˜¾ç¤ºå™¨ç”µæºå†æ‰“å¼€




## ç³»ç»Ÿå®‰è£…

1. [å®‰è£…å‰è®¾ç½®BIOS](#BIOSè®¾ç½®)
2. [æŸ¥çœ‹å®‰è£…æ–¹æ³•](/install)

## å¦‚ä½•æ›´æ–°

1. å¤åˆ¶æœ€æ–°çš„EFIæ–‡ä»¶åˆ°EFIåˆ†åŒº
2. åƒç™½æœä¸€æ ·å»`è½¯ä»¶æ›´æ–°`å®‰è£…æ›´æ–°è¡¥ä¸å³å¯

- æ£€æµ‹æ›´æ–°

![](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/WX20200317-213009%402x.png)


![](https://raw.githubusercontent.com/qinkangdeid/pics/imgs/20200317213939.png)

## BIOSè®¾ç½®

ç›®å‰æˆ‘çš„BIOSç‰ˆæœ¬ï¼š`F10` 

- è¿˜åŸBIOSé…ç½®ï¼š

> Save & Exit â†’ Load Optimized Defaults

- æ–¹æ³•ä¸€ï¼šBIOSæ‰‹åŠ¨é…ç½®
  
    - BIOS > CSM Support > Disabled
    - BIOS > Windows 8/10 Features > Windows 8/10
    - BIOS > Secure Boot > Disabled
    - Peripherals > Intel Platform Trust Technology (PTT) > Disabled
    - Peripherals > USB Configuration > Legacy USB Support > Enabled
    - Peripherals > Network Stack Configuration > Network Stack > Disabled
    - Peripherals > USB Configuration > XHCI Hand-off > Enabled
    - Chipset > DVMT Pre-Alloc > 128M
    - Chipset > DVMT Total Gfx Mem > 256M
    - Chipset > Vt-d > Disabled
    - Chipset > Above 4G Decoding > Enabled

    - æ˜¾å¡éƒ¨åˆ†

        æ ¹æ®ä½ æœ‰æ— ç‹¬ç«‹æ˜¾å¡è®¾ç½®

        - æ ¸æ˜¾è°ƒæ•´    

            - Peripherals â†’ Initial Display Output : IGFX
            - Chipset â†’ Integrated Graphics : Enabled
            - Chipset â†’ DVMT Pre-Allocated :128M 
        - å¤–ç½®æ˜¾å¡è°ƒæ•´   
            - Peripherals â†’ Initial Display Output : PCIe 1 Slot
            - Chipset â†’ Integrated Graphics : Disabled
    
    - é€‰åšéƒ¨åˆ†

    > å¦‚æœä½ çš„å†…å­˜æ¡é¢‘ç‡è¿‡äº†2666 å¯ä»¥æé«˜é¢‘ç‡

    - M.I.T > Extreme Memory Profile (X.M.P.) > Profile 1

- æ–¹æ³•äºŒï¼šå¯¼å…¥BIOSé…ç½®æ–‡ä»¶

  æˆ‘æä¾›äº†å·²ç»é…ç½®å¥½çš„BISOè®¾ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥é€‰æ‹©å¯¼å…¥æˆ‘é…ç½®çš„BIOSæ–‡ä»¶

> **PS**:  
>
> - ä¸€å®šè¦å¯¹åº”BIOSç‰ˆæœ¬
> - æˆ‘çš„ç‰ˆæœ¬åªæ˜¯ç”¨æ ¸æ˜¾æ²¡æœ‰ç‹¬ç«‹æ˜¾å¡

1. å¼€æœºç‹‚æŒ‰`Del`è¿›å…¥BIOSç•Œé¢
2. åˆ‡æ¢åˆ°`Save&Exit` é€‰æ‹© `Load Profiles`ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†å†…é€‰æ‹©å¯¹åº”çš„BIOSæ–‡ä»¶
3. å‡ºç°`Profile Loaded`çª—å£åï¼Œç‚¹å‡»`Save&Exit Setup`é€€å‡ºBIOSé‡å¯

![image-20190423135030808](https://ws4.sinaimg.cn/large/006tNc79gy1g2cist7ruxj31400u0wyj.jpg)

![image-20190423135038029](https://ws2.sinaimg.cn/large/006tNc79gy1g2cisxs8v3j31400u0k78.jpg)

## é©±åŠ¨è¯¦æƒ…

- ç½‘å¡

    - å·¦ä¾§ç½‘å£  

    > `IntelMausiEthernet.kext`
    - å³ä¾§ç½‘å£ 

    > `SmallTree-Intel-211-AT-PCIe-GBE.kext`

- è“ç‰™/WIFI

  é»˜è®¤çš„ä¸»æ¿ä¸Šçš„è“ç‰™/WIFIç½‘å¡ä¸èƒ½ç”¨äºé»‘è‹¹æœã€‚ä½ éœ€è¦æ›´æ¢ä¸ºå…¼å®¹çš„ç½‘å¡ï¼Œæœ‰ä¸¤å—ç½‘å¡èƒ½å¤Ÿå…¼å®¹é»‘è‹¹æœï¼š

  1. åŸè£…ç½‘å¡(BCM94360CS2)
  
      æ­¤æ¬¾ç½‘å¡åŸç”Ÿé©±åŠ¨ ä¸éœ€è¦æ·»åŠ ç¬¬ä¸‰æ–¹é©±åŠ¨   
      
  2. DW1560(BCM94352Z) 
  
      è¿™å—ç½‘å¡éœ€è¦æ·»åŠ ç›¸åº”é©±åŠ¨ï¼Œå¯ä»¥å°è¯•ç›´æ¥ä½¿ç”¨`Kexts for Dw1560`æ–‡ä»¶å¤¹é‡Œçš„é©±åŠ¨å¤åˆ¶åˆ°`EFI/CLOVER/kexts/Other/ `
      å¦‚æœè¿˜ä¸è¡Œè¯·å‚è€ƒé»‘æœå°å…µç‰ˆä¸»çš„[æ•™ç¨‹](https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html)è®¾ç½®

- USBå®šåˆ¶

   EFIé‡Œé»˜è®¤çš„ä½¿ç”¨æ–¹å¼æ˜¯`Hackintool`è½¯ä»¶åˆ¶ä½œ,
å¦‚æœä½ è¦è‡ªå®šä¹‰æ›´åŠ ç¬¦åˆä½ æœºç®±ä¸Šçš„USBç«¯å£æ’åˆ—ï¼Œä»»é€‰ä¸‹é¢å…¶ä¸­ä¸€ä¸ªæ–¹æ³•å³å¯ï¼Œä½ åªéœ€è¦æ ¹æ®è‡ªå·±éœ€è¦å¢åˆ ç›¸åº”ç«¯å£å³å¯,Z370N-WIFIæ‰€æœ‰çš„USBç«¯å£å·²ç»å…¨éƒ¨æ ‡è®°å‡ºæ¥äº†
[ç‚¹æˆ‘æŸ¥çœ‹](#Z370N-WIFIä¸»æ¿USBç«¯å£ä½ç½®)

> è¦ç¡®ä¿USBæ€»å…±çš„USBç«¯å£åœ¨`15`ä¸ªä»¥å†…(å«)ï¼Œä¸€ä¸ªUSB3.0å°±å ç”¨ä¸¤ä¸ªç«¯å£ï¼Œç”¨ 3.0 çš„éœ€æ±‚åº”è¯¥æ¯” 2.0 çš„å¤šç‚¹å§ æ‰€ä»¥ç»“åˆä½ è‡ªå·±çš„å®é™…éœ€è¦ ä½ å¯ä»¥å±è”½USB3.0ä¸Šçš„2.0 ç«¯å£ä»¥è·å–æ›´å¤šå¯ç”¨çš„USB3.0ç«¯å£

**USBä¸¤ç§æ–¹æ³•**

- [Hackintoolå®šåˆ¶](<https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html>)



  > å°†ç”Ÿæˆçš„ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šä½ç½®

  - `SSDT-EC.aml` å¤åˆ¶åˆ° `EFI/CLOVER/ACPI/patched`
  - `USBPorts.kext`å¤åˆ¶åˆ°`EFI/CLOVER/kexts/Other`


  è¿™ç§æ–¹å¼æ¯”è¾ƒå®¹æ˜“å®šåˆ¶ç¬¦åˆè‡ªå·±æœºç®±çš„ç«¯å£

- [SSDTå®šåˆ¶](https://www.tonymacx86.com/threads/guide-creating-a-custom-ssdt-for-usbinjectall-kext.211311/)

  > å°†SSDTæ–‡ä»¶å¤¹é‡Œçš„å¤åˆ¶åˆ°æŒ‡å®šä½ç½®
  
  - `SSDT-UIAC.aml` å¤åˆ¶åˆ° `EFI/CLOVER/ACPI/patched`
  - `USBInjectAll.kext`å¤åˆ¶åˆ°`EFI/CLOVER/kexts/Other`

æœ¬è´¨ä¸Šä¸¤è€…åº”è¯¥æ²¡å•¥åŒºåˆ« åªæ˜¯å®šåˆ¶çš„éš¾æ˜“ç¨‹åº¦


**ä»¥ä¸‹æ˜¯æˆ‘ç›®å‰å®šåˆ¶çš„USBç«¯å£**

![image-20190413125013669](https://ws3.sinaimg.cn/large/006tNc79gy1g20wv06u38j30u00zlwlf.jpg)

-  Z370N-WIFIä¸»æ¿USBç«¯å£ä½ç½®

![image-20190413124841765](https://ws4.sinaimg.cn/large/006tNc79gy1g20wtg7bz9j30rs0go7dp.jpg)


## å¸¸ç”¨è½¯ä»¶

[macOS Patcheré•œåƒä¸‹è½½](http://dosdude1.com)

[Uç›˜å¯åŠ¨install-disk-creator](https://macdaddy.io/install-disk-creator/)

[Clover Configurator](https://sourceforge.net/projects/cloverefiboot/files/)

[kextupdater](https://bitbucket.org/profdrluigi/kextupdater/downloads/)

[Kext Utility](http://cvad-mac.narod.ru/index/0-4)


## åç»­é—®é¢˜è§£å†³é€”å¾„

- [Google is your good friend](https://www.google.com)
- [é»‘æœå°å…µåšå®¢](https://blog.daliansky.net)
- [è¿œæ™¯è®ºå›](http://pcbeta.com)
- [insanelymac](https://www.insanelymac.com)
- [tonymacx86](https://www.tonymacx86.com)

